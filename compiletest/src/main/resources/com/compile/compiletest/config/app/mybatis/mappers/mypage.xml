<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mypage">
	
	<update id="changeNickname" parameterType="string">
		<![CDATA[
			update user 
   			   set nickname = #{nickname }
 			 where no = 1
		]]>
	</update>
	
	<update id="changePassword" parameterType="string">
		<![CDATA[
			update user 
   			   set password = #{password }
 			 where no = 1
		]]>
	</update>
	
	<update id="foreignKeyChecks" parameterType="long">
		<![CDATA[
			set foreign_key_checks = #{num }
		]]>
	</update>
	
	<delete id="deleteUser" parameterType="string">
		<![CDATA[
			delete
  			  from user
 			 where no = 1
		]]>
	</delete>
	
	<select id="lookUpPassword" parameterType="string" resultType="string">
		<![CDATA[
			select password
  			  from user
			 where email = #{email }
		]]>
	</select>
	
	<select id="selectProblemList" parameterType="string" resultType="problemvo">
		<![CDATA[
			select p.no as no, p.title as title, p.hit as hit, p.recommend as recommend
			  from problem p, user u
			 where u.no = 1
		]]>
	</select>
	
	<update id="deleteProblem" parameterType="long">
		<![CDATA[
			update problem
			   set state = 'n'
			 where no = 1
		]]>
	</update>

</mapper>